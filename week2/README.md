# CMEE Coursework Week 2 Second Submission

This repository contains the coursework for Week 2 of the CMEE program. The exercises focus on improving Python programming skills, tackling computational challenges, and applying concepts like control flows, data processing, and sequence alignment.

## **Contents**
### Week 2 Sections:
- **Biological Computing in Python 1**

### Programming Language:
- Python

## **Dependencies**
The following Python libraries and modules are required:
- **os**: Interact with the operating system.
- **sys**: Handle command-line arguments.
- **csv**: Read and write CSV files.
- **fuzz**: Perform fuzzy string matching (install with `pip install fuzzywuzzy`).

The following files can be found in the 'code' folder:
> loops.py
> MyExampleScript.py
> cfexercises1.py
> cfexercises2.py
> oaks.py
> basic_io1.py
> basic_io2.py
> basic_io3.py
> basic_csv.py
> boilerplate.py
> sysargv.py
> control_flow.py
> lc1.py
> lc2.py
> dictionary.py
> tuple.py
> test_control_flow.py
> debugme.py
> align_seqs.py
> oaks_debugme.py

Project structure and Usage of Practica:
-code
1. Loops and List Comprehensions
> lc1.py # lc1.py demonstrates the use of list comprehensions to generate new lists by extracting and transforming data, such as Latin names, common names, and body mass, and compares this with the traditional for loop method.
> lc2.py # lc2.py further explores list comprehensions for filtering data based on conditions, such as selecting months with rainfall above 100mm, and contrasts the list comprehension approach with regular loops for clarity and efficiency.
> dictionary.py # dictionary.py shows how to use a dictionary to categorize and store genus names and their associated species, utilizing sets to avoid duplicates and leveraging list comprehensions to efficiently generate the dictionary.
> tuple.py # tuple.py deals with iterating over a list of tuples and formatting the output of Latin names, common names, and body mass, highlighting how to extract and display information from immutable data structures.

2. Writing a Program with Control flows
> cfexercises1.py # contains a set of basic functions demonstrating control flow in Python, such as calculating square roots, factorials, and sorting numbers. Each function is refactored to take user inputs and is tested with sample arguments to showcase how control flows like loops and conditionals are applied to solve common computational problems.

3. Align DNA sequences
> align_seqs.py # align_seqs.py implements a simple DNA sequence alignment algorithm that aligns two DNA sequences to maximize the number of matching bases. It iterates over all possible starting points of the shorter sequence against the longer one, calculates the alignment score, and outputs the alignment with the highest score. The code is enhanced to take sequences from a file and save the best alignment and score to an output file.

4. Missing oaks problem
> oaks_debugme.py # oaks_debugme.py processes a CSV file to identify oak tree species by checking if the genus is "Quercus". It uses a function is_an_oak to perform this check, originally with a bug that incorrectly identifies some species. The bug is fixed using fuzzy matching to account for typos in the genus name. The code also includes doctests to ensure that the function correctly identifies valid and invalid oak species, and writes the filtered results to a new CSV file.

-data
> sequences.csv # sequences.csv is a data file containing two DNA sequences, typically used as input for the align_seqs.py script. The sequences are aligned to find the best match by comparing them base by base, and the file serves as the source for the sequence alignment task, with the sequences being processed and analyzed for similarity in the alignment process.
> TestOaksData.csv # TestOaksData.csv is a CSV file containing a list of plant species with their genus and species names. It is used as input for the oaks_debugme.py script, where the script processes the data to identify and filter out oak species (genus "Quercus"). The file helps test the functionality of the script by providing both oak and non-oak species for comparison and filtering.

-results
> best_alignment.txt # best_alignment.txt is an output file generated by the align_seqs.py script. It contains the best alignment between two DNA sequences from sequences.csv, along with the corresponding alignment score. The file records the optimal alignment that maximizes the number of matching bases and is used to save and review the results of the sequence alignment process.

## **Project Structure**
WEEK2/
├── code/                      # Python scripts for exercises and tasks
│   ├── basic_csv.py
│   ├── basic_io1.py
│   ├── basic_io2.py
│   ├── basic_io3.py
│   ├── boilerplate.py
│   ├── cfexercises1.py
│   ├── cfexercises2.py
│   ├── control_flow.py
│   ├── debugme.py
│   ├── dictionary.py
│   ├── lc1.py
│   ├── lc2.py
│   ├── loops.py
│   ├── MyExampleScript.py
│   ├── oaks_debugme.py
│   ├── oaks.py
│   ├── sysargv.py
│   ├── test_control_flow.py
│   └── tuple.py
├── data/                      # Input data files used by the scripts
│   ├── sequences.csv
│   └── TestOaksData.csv
├── results/                   # Output files generated by scripts
│   └── .gitkeep               # Placeholder to ensure folder exists in Git
├── sandbox/                   # Temporary or experimental files
│   ├── test.txt
│   └── .gitkeep               # Placeholder for sandbox
├── .gitignore                 # Specifies files/directories ignored by Git
└── README.md                  # Project overview and instructions

Feedback-Based Improvements
This section outlines how each script was revised based on feedback to improve functionality, readability, and adherence to best practices.
1. lc1.py
Original Issue: Limited explanation of list comprehensions compared to loops, and no headers or docstrings.
Improvements:
Added headers with detailed script descriptions, author information, and purpose.
Introduced docstrings for clarity on how list comprehensions and loops process data like bird species' Latin names, common names, and masses.
Improved formatting for readability.
2. lc2.py
Original Issue: Lack of clear separation between list comprehension examples and loop implementations.
Improvements:
Organized the code with headers and docstrings to distinguish between tasks (e.g., rainfall > 100 mm, rainfall < 50 mm).
Added comments explaining list comprehensions and loops, making the examples easier to follow.
3. dictionary.py
Original Issue: Missing explanations for dictionary creation using loops and list comprehensions.
Improvements:
Documented the script purpose: mapping orders to sets of species.
Added comments to clarify the use of setdefault in list comprehensions.
Enhanced formatting to highlight differences between methods.
4. tuple.py
Original Issue: No explanation for processing tuples of bird data.
Improvements:
Included a header and docstring explaining how the script iterates over tuples to extract and format bird data.
Maintained the original functionality but improved comments and formatting for better understanding.
5. cfexercises1.py
Original Issue: Missing explanations for individual functions and lack of input/output examples.
Improvements:
Added docstrings to all functions, explaining parameters, return values, and examples.
Introduced a clear script-level description to explain the purpose of demonstrating Python control flows.
6. control_flow.py
Original Issue: Functions lacked clarity and test cases for prime number checks and divisors.
Improvements:
Enhanced function docstrings with detailed examples.
Added comments for control flow decisions, such as if-elif conditions.
Improved formatting for consistency with other scripts.
7. align_seqs.py
Original Issue: Complex logic with insufficient explanation of sequence alignment.
Improvements:
Documented the alignment algorithm, detailing the scoring mechanism and file I/O.
Added file-level and function-level docstrings for clarity.
Standardized input and output file paths.
8. oaks_debugme.py
Original Issue: Bugs in identifying oak species due to genus matching logic.
Improvements:
Corrected genus matching logic using fuzzywuzzy for more robust comparisons.
Added doctests to validate the is_an_oak function.
Included docstrings and headers to explain the purpose and methodology.
9. basic_io1.py, basic_io2.py, basic_io3.py
Original Issue: No explanations for file operations or usage examples.
Improvements:
Added headers and docstrings explaining the purpose of reading, writing, and storing objects in files.
Used with open() for better file handling and to avoid resource leaks.
Improved code comments to guide users on input/output expectations.
10. test_control_flow.py
Original Issue: Lack of test descriptions and unclear function purpose.
Improvements:
Documented the testing process using doctest.
Explained how the test cases validate the even_or_odd function.
11. loops.py
Original Issue: Simple examples lacked explanations for loops.
Improvements:
Added headers and comments to explain each example.
Maintained the simplicity of the code while improving clarity.
12. debugme.py
Original Issue: Contained intentional bugs but lacked a description for debugging purposes.
Improvements:
Documented the script's purpose: serving as a debugging exercise.
Highlighted the potential division-by-zero issue in comments.
Added a header and docstring to explain the debugging process.
13. sysargv.py
Original Issue: No explanation for the purpose of handling command-line arguments.
Improvements:
Added headers and docstrings explaining the usage of sys.argv.
Maintained the original functionality while enhancing readability.
14. .gitignore
Original Issue: Only ignored .DS_Store, insufficient for managing a Python project.
Improvements:
Added rules to ignore common temporary files (__pycache__/, *.log, *.pkl) and IDE configuration files (.vscode/, .idea/).
Ensured necessary files (e.g., data and results) remain tracked.

## **How to Run**
1. Clone the repository:
   ```bash
   git clone <repository_url>
Navigate to the project folder:
cd CMEECourseWork/week2
Install required dependencies:
pip install fuzzywuzzy
Run any script:
python3 code/<script_name>.py
Example: Running align_seqs.py
Place sequences.csv in the data/ folder.
Run the script:
python3 code/align_seqs.py
Check the results in results/best_alignment.txt.

Author:
Kevin Zhao
MSc Student, Imperial College London
Email: kz1724@ic.ac.uk